(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){e.exports=a(36)},20:function(e,t,a){},34:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(8),c=a.n(i),r=(a(20),a(1)),s=a(2),o=a(3),m=a(5),d=a(4),u=a(6),h=a(9),p=a.n(h),b=(a(32),a(34),{content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}}),v=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{id:"cart"},l.a.createElement("div",{className:"card"},l.a.createElement("span",{className:"card-header text-center"},l.a.createElement("b",null,"Total")),l.a.createElement("span",{className:"card-body"},l.a.createElement("table",{className:"table table-borderless"},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",{className:"col-sm-3"},"Items(",this.props.itemQuantity,")"),l.a.createElement("td",null,":"),l.a.createElement("td",null,this.props.itemTotal," ")),l.a.createElement("tr",null,l.a.createElement("td",null,"Discount"),l.a.createElement("td",null,":"),l.a.createElement("td",null,"-",this.props.discount)),l.a.createElement("tr",null,l.a.createElement("td",null,"Type Discount"),l.a.createElement("td",null,":"),l.a.createElement("td",null,"-",this.props.typeDiscount)),l.a.createElement("tr",{className:"card-footer"},l.a.createElement("td",null,"OrderTotal "),l.a.createElement("td",null,":"),l.a.createElement("td",null,this.props.orderTotal)))))))}}]),t}(n.Component),y=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={itemList:[],items:0,itemTotal:0,orderTotal:0,discount:0,itemsQuantity:{9090:0,9091:0,9092:0,9093:0,9094:0,9095:0,9096:0,9097:0}},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"handleIncrement",value:function(e){var t=this.state.itemsQuantity;t[e]=t[e]+1,this.setState({itemsQuantity:t}),this.props.handleAddProductItem(e,t[e])}},{key:"handleDecrement",value:function(e){var t=this.state.itemsQuantity;t[e]>0&&(t[e]=t[e]-1,this.setState({itemsQuantity:t}),this.props.handleRemoveProductItem(e,t[e]))}},{key:"render",value:function(){var e=this,t=this.props.items.map(function(t){return l.a.createElement("tr",{key:t.id},l.a.createElement("td",{className:"col-6"},l.a.createElement("div",{className:"product"},l.a.createElement("img",{alt:"i",className:"product-image",src:t.img_url}),l.a.createElement("div",{className:"product-info"},t.name),l.a.createElement("a",{className:"product-remove",href:"#",onClick:function(){return e.props.handleRemoveProduct(t.id)}},"\xd7"))),l.a.createElement("td",{className:"col-3 counter"},l.a.createElement("a",{href:"#",className:"decrement",onClick:function(){e.handleDecrement(t.id)}},"\u2013"),l.a.createElement("div",{className:"counter-quantity"},e.state.itemsQuantity[t.id]),l.a.createElement("a",{href:"#",className:"increment",onClick:function(){e.handleIncrement(t.id)}},"+")),l.a.createElement("td",{className:"col-3"},t.price))});return l.a.createElement("div",null,l.a.createElement("h2",null,"Order Summary"),l.a.createElement("table",null,l.a.createElement("thead",{className:"table-secondary"},l.a.createElement("tr",null,l.a.createElement("th",{className:"col-3"},"Items"),l.a.createElement("th",{className:"col-3"},"Quantity"),l.a.createElement("th",{className:"col-3"},"Price"))),l.a.createElement("tbody",null,t)))}}]),t}(n.Component);function E(){return[{id:9090,name:"Item1",price:200,discount:10,type:"fiction",img_url:"https://store.lexisnexis.com.au/__data/media/catalog/thumb//placeholder.jpg"},{id:9091,name:"Item2",price:250,discount:15,type:"literature",img_url:"https://store.lexisnexis.com.au/__data/media/catalog/thumb//placeholder.jpg"},{id:9092,name:"Item3",price:320,discount:5,type:"literature",img_url:"https://store.lexisnexis.com.au/__data/media/catalog/thumb//placeholder.jpg"},{id:9093,name:"Item4",price:290,discount:0,type:"thriller",img_url:"https://store.lexisnexis.com.au/__data/media/catalog/thumb//placeholder.jpg"},{id:9094,name:"Item5",price:500,discount:25,type:"thriller",img_url:"https://store.lexisnexis.com.au/__data/media/catalog/thumb//placeholder.jpg"},{id:9095,name:"Item6",price:150,discount:5,type:"literature",img_url:"https://store.lexisnexis.com.au/__data/media/catalog/thumb//placeholder.jpg"},{id:9096,name:"Item7",price:700,discount:22,type:"literature",img_url:"https://store.lexisnexis.com.au/__data/media/catalog/thumb//placeholder.jpg"},{id:9097,name:"Item8",price:350,discount:18,type:"fiction",img_url:"https://store.lexisnexis.com.au/__data/media/catalog/thumb//placeholder.jpg"}]}p.a.setAppElement("#alertmodal");var f=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={itemList:[],cartList:{},items:0,itemTotal:0,itemQuantity:0,orderTotal:0,discount:0,typeDiscount:0,modalIsOpen:!1},a.handleRemoveProduct=a.handleRemoveProduct.bind(Object(r.a)(Object(r.a)(a))),a.handleAddProductItem=a.handleAddProductItem.bind(Object(r.a)(Object(r.a)(a))),a.handleRemoveProductItem=a.handleRemoveProductItem.bind(Object(r.a)(Object(r.a)(a))),a.calculateItemTotal=a.calculateItemTotal.bind(Object(r.a)(Object(r.a)(a))),a.calculateItemQuantity=a.calculateItemQuantity.bind(Object(r.a)(Object(r.a)(a))),a.reloadCart=a.reloadCart.bind(Object(r.a)(Object(r.a)(a))),a.openModal=a.openModal.bind(Object(r.a)(Object(r.a)(a))),a.closeModal=a.closeModal.bind(Object(r.a)(Object(r.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){var e=E();this.setState({itemList:e})}},{key:"openModal",value:function(){this.setState({modalIsOpen:!0})}},{key:"closeModal",value:function(){this.setState({modalIsOpen:!1})}},{key:"reloadCart",value:function(){var e=E();this.setState({itemList:e})}},{key:"handleRemoveProduct",value:function(e){var t=this.state.itemList,a=this.state.cartList,n=t.findIndex(function(t){return t.id===e});t.splice(n,1),delete a[e],this.setState({cartList:a,itemList:t}),this.calculateItemTotal(),this.calculateItemQuantity(),this.openModal()}},{key:"handleAddProductItem",value:function(e){var t=this.state.cartList;t[e]?t[e]=t[e]+1:t[e]=1,this.setState({cartList:t}),this.calculateItemTotal(),this.calculateItemQuantity()}},{key:"handleRemoveProductItem",value:function(e){var t=this.state.cartList;t[e]?t[e]=t[e]-1:delete t[e],this.setState({cartList:t}),this.calculateItemTotal(),this.calculateItemQuantity()}},{key:"calculateItemQuantity",value:function(){var e=this.state.cartList,t=0;for(var a in e)t+=e[a];this.setState({itemQuantity:t})}},{key:"calculateItemTotal",value:function(){var e=this.state.cartList,t=this.state.itemList,a=0,n=0,l=0,i=0,c=function(c){var r=t.findIndex(function(e){return e.id==c});if(a+=e[c]*t[r].price,n+=e[c]*t[r].discount,"fiction"==t[r].type){var s=.15*e[c]*t[r].price;s=Math.round(100*s)/100,i+=s}l=Math.round(100*(a-n-i))/100};for(var r in e)c(r);this.setState({itemTotal:a,discount:n,orderTotal:l,typeDiscount:i})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"page-header"}),l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"row flex-row-reverse"},l.a.createElement("div",{className:"col-md-3"},l.a.createElement(v,{itemList:this.state.itemList,itemTotal:this.state.itemTotal,itemQuantity:this.state.itemQuantity,discount:this.state.discount,typeDiscount:this.state.typeDiscount,orderTotal:this.state.orderTotal})),l.a.createElement("div",{className:"col-md-9"},0==this.state.itemList.length?l.a.createElement("button",{onClick:this.reloadCart},"Reload cart"):l.a.createElement(y,{items:this.state.itemList,itemValues:this.state.itemValues,handleRemoveProduct:this.handleRemoveProduct,handleAddProductItem:this.handleAddProductItem,handleRemoveProductItem:this.handleRemoveProductItem})),l.a.createElement(p.a,{isOpen:this.state.modalIsOpen,onAfterOpen:this.afterOpenModal,onRequestClose:this.closeModal,contentLabel:"Example Modal",style:b},l.a.createElement("button",{onClick:this.closeModal,className:"btn btn-danger float-right"},"x"),l.a.createElement("div",null,"Item Removed Successfully")))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(f,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[14,2,1]]]);
//# sourceMappingURL=main.04c370a7.chunk.js.map